# ============================================================
# AI Receptionist — Docker Compose Environment
# ============================================================
# Copy to .env in the project root:   cp .env.example .env
# Docker Compose reads this file automatically.
# Only secrets and host-specific values go here — everything
# else has safe defaults inside docker-compose.yml.
# ============================================================

# ── Required ─────────────────────────────────────────────────
OPENAI_API_KEY=sk-your-openai-api-key-here

# ── Optional: override model ─────────────────────────────────
# OPENAI_MODEL=gpt-4o
# OPENAI_BASE_URL=https://api.openai.com/v1

# ── Optional: Google Calendar integration ────────────────────
# CALENDAR_MODE=mock                    # mock (default) or real
# GOOGLE_CLIENT_ID=
# GOOGLE_CLIENT_SECRET=
# GOOGLE_REDIRECT_URI=http://localhost:3000/api/oauth/google/callback

# ── Optional: Calendar failure simulation (mock mode only) ───
# CALENDAR_FAIL_MODE=none               # none | auth_error | network_error | timeout | all_ops_fail
# CALENDAR_SYNC_REQUIRED=false          # true = booking fails if calendar fails
# CALENDAR_READ_REQUIRED=true           # true = strict (fail if calendar down), false = lenient
# CALENDAR_DEBUG=false                  # true = log busy ranges + expose /api/dev/calendar-debug/

# ── Feature Flags (master kill switches) ─────────────────────
# Booking-only mode (company PC): set SMS + VOICE to false.
# No Twilio credentials or ngrok/tunnel required.
FEATURE_CALENDAR_BOOKING=true
# FEATURE_SMS=true                      # set 'false' for booking-only mode
# FEATURE_VOICE=true                    # set 'false' for booking-only mode

# ── Optional: Twilio voice/SMS (personal machine only) ──────
# Required only when FEATURE_SMS=true or FEATURE_VOICE=true.
# On a company PC with booking-only mode, leave these empty.
# TWILIO_ACCOUNT_SID=
# TWILIO_AUTH_TOKEN=
# TWILIO_PHONE_NUMBER=+1234567890
# TWILIO_WEBHOOK_BASE_URL=https://your-tunnel-url.example.com
# VOICE_ENABLED=true
# SMS_HANDOFF_ENABLED=true

# ── Optional: Frontend overrides ─────────────────────────────
# VITE_DEMO_MODE=1
# VITE_TENANT_ID=00000000-0000-4000-a000-000000000001

# ── Optional: Excel integration ──────────────────────────────
# EXCEL_ENABLED=true
# EXCEL_DEFAULT_FILE_PATH=/data/appointments.xlsx

# ── Optional: Security (production only) ─────────────────────
# ENCRYPTION_KEY=generate-a-32-byte-hex-key-for-prod

# ── Optional: Date-distance confirmation guardrail ───────────
# BOOKING_FAR_DATE_CONFIRM_DAYS=30      # 0 to disable

# ── Optional: Follow-up messaging guardrails ─────────────────
# FOLLOWUP_MAX_PER_BOOKING=2            # max follow-ups per session
# FOLLOWUP_COOLDOWN_MINUTES=60          # min minutes between follow-ups

# ── Optional: CEO Pilot Test Mode ────────────────────────────
# CEO_TEST_MODE=true                    # enables /debug/ceo-test/* endpoints (auto-on in dev)
# CEO_TEST_TOKEN=ceo-pilot-2026         # X-CEO-TEST-TOKEN header value
# VITE_CEO_TEST_MODE=true               # shows CEO test panel in frontend
# VITE_CEO_TEST_TOKEN=ceo-pilot-2026    # frontend panel token (defaults to ceo-pilot-2026)

# ── Optional: reCAPTCHA v3 Spam Protection ───────────────────
# Master switch — disabled by default, zero impact on dev.
# When enabled, booking-intake and email-verification requests
# require a valid reCAPTCHA v3 token from the frontend.
# RECAPTCHA_ENABLED=false
# RECAPTCHA_SITE_KEY=
# RECAPTCHA_SECRET_KEY=
# RECAPTCHA_MIN_SCORE=0.5               # 0.0 = bot, 1.0 = human
# VITE_RECAPTCHA_ENABLED=true           # frontend flag (must match backend)
# VITE_RECAPTCHA_SITE_KEY=your-site-key # same as RECAPTCHA_SITE_KEY
